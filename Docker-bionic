FROM ubuntu:bionic 
WORKDIR /build
COPY ./Security/security.bash /build/security.bash
RUN bash /build/security.bash
RUN apt-get install -y build-essential checkinstall wget
RUN apt-get install -y libreadline-gplv2-dev libncursesw5-dev libssl-dev libsqlite3-dev tk-dev libgdbm-dev libc6-dev libbz2-dev
RUN wget https://www.python.org/ftp/python/3.10.2/Python-3.10.2.tgz
RUN md5sum Python-3.10.2.tgz | grep "67c92270be6701f4a6fed57c4530139b"
# https://towardsdatascience.com/building-python-from-source-on-ubuntu-20-04-2ed29eec152b

RUN tar xzf Python-3.10.2.tgz
RUN cd Python-3.10.2
RUN ./configure --enable-optimizations
RUN make
RUN make altinstall

# clean up 
RUN apt-get remove -y build-essential checkinstall wget
RUN rm -rv /build

